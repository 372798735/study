<!--pages/questions/list/list.wxml-->
<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <input class="search-input" placeholder="æœç´¢é¢˜ç›®..." bindinput="onSearchInput" value="{{keyword}}" />
    <view class="search-icon">ğŸ”</view>
  </view>

  <!-- ç­›é€‰æ  -->
  <view class="filter-bar">
    <scroll-view class="filter-scroll" scroll-x>
      <view class="filter-item {{category === '' ? 'active' : ''}}" bindtap="onCategoryChange" data-value="">
        å…¨éƒ¨
      </view>
      <view class="filter-item {{category === item ? 'active' : ''}}" wx:for="{{categories}}" wx:key="*this" bindtap="onCategoryChange" data-value="{{item}}">
        {{item}}
      </view>
    </scroll-view>
  </view>

  <view class="filter-bar">
    <scroll-view class="filter-scroll" scroll-x>
      <view class="filter-item {{difficulty === '' ? 'active' : ''}}" bindtap="onDifficultyChange" data-value="">
        å…¨éƒ¨éš¾åº¦
      </view>
      <view class="filter-item {{difficulty === 'easy' ? 'active' : ''}}" bindtap="onDifficultyChange" data-value="easy">
        ç®€å•
      </view>
      <view class="filter-item {{difficulty === 'medium' ? 'active' : ''}}" bindtap="onDifficultyChange" data-value="medium">
        ä¸­ç­‰
      </view>
      <view class="filter-item {{difficulty === 'hard' ? 'active' : ''}}" bindtap="onDifficultyChange" data-value="hard">
        å›°éš¾
      </view>
    </scroll-view>
  </view>

  <!-- é¢˜ç›®åˆ—è¡¨ -->
  <view class="question-list">
    <view class="question-item card" wx:for="{{questions}}" wx:key="id" bindtap="goToDetail" data-id="{{item.id}}">
      <view class="question-header">
        <text class="question-title">{{item.title}}</text>
        <view class="tag tag-{{item.difficulty === 'easy' ? 'success' : item.difficulty === 'medium' ? 'warning' : 'danger'}}">
          {{item.difficulty === 'easy' ? 'ç®€å•' : item.difficulty === 'medium' ? 'ä¸­ç­‰' : 'å›°éš¾'}}
        </view>
      </view>
      <text class="question-content">{{item.content}}</text>
      <view class="question-footer">
        <text class="category-tag">ğŸ“š {{item.category}}</text>
        <text class="type-tag">
          {{item.type === 'single' ? 'ğŸ“ å•é€‰é¢˜' : item.type === 'multiple' ? 'âœ… å¤šé€‰é¢˜' : 'â“ åˆ¤æ–­é¢˜'}}
        </text>
      </view>
    </view>

    <!-- åŠ è½½æ›´å¤š -->
    <view class="load-more" wx:if="{{hasMore && !loading}}">
      <text bindtap="loadMore">åŠ è½½æ›´å¤š</text>
    </view>

    <!-- åŠ è½½ä¸­ -->
    <view class="loading" wx:if="{{loading}}">
      <text>åŠ è½½ä¸­...</text>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty" wx:if="{{!loading && questions.length === 0}}">
      <view class="empty-icon">ğŸ“</view>
      <view class="empty-text">æš‚æ— é¢˜ç›®</view>
    </view>
  </view>
</view>

